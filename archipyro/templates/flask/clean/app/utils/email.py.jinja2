"""
Mail Service Utility.
"""
{%- if "Mail Service" in config.features %}
from flask_mail import Message
from app.extensions import mail

def send_email(subject, recipients, body=None, html=None):
    """
    Send an email using Flask-Mail.
    
    :param subject: Email subject
    :param recipients: List of recipient email addresses
    :param body: Plain text body
    :param html: HTML body
    """
    msg = Message(subject, recipients=recipients)
    if body:
        msg.body = body
    if html:
        msg.html = html
    
    try:
        mail.send(msg)
        return True
    except Exception as e:
        # Log error in production
        print(f"Failed to send email: {e}")
        return False
{%- else %}
def send_email(subject, recipients, body=None, html=None):
    """
    Dummy send_email function.
    Enable 'Mail Service' feature to use real email sending.
    """
    print(f"Dummy Email Sent:")
    print(f"Subject: {subject}")
    print(f"To: {recipients}")
    print(f"Body: {body}")
    return True
{%- endif %}
